<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Management System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">User Management System</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            
          </li>
        </ul>

        

      </div>
    </div>
  </nav>

 
<div class="container col-12" style="display: flex; flex-direction:row; justify-content:center; align-items:center">
   
    <form class="form2 container col-6" style="display: flex; flex-direction:column; justify-content:flex-start">
  <div class="form-group" style="margin:20px;padding:10px; " >
    <label for="num1">Enter First No</label>
    <input type="number" class="form-control" id="num1" placeholder="Enter First no" name = "num1">
  </div>
  <div class="form-group"  style="margin:20px;padding:10px; ">
    <label for="num2">Enter Second No</label>
    <input type="number" class="form-control" id="num2" placeholder="Enter Second no" name = "num2">
  </div>
  <div class="form-group"  style="margin:20px;padding:10px; ">
    <label for="num3">Enter Third No</label>
    <input type="number" class="form-control" id="num3" placeholder="Enter Third no" name = "num3">
  </div>
  <div class="form-group" style="margin:20px;padding:10px; ">
    <label for="num4">Enter Fourth No</label>
    <input type="number" class="form-control" id="num4" placeholder="Enter Fourth no" name = "num4">
  </div>
  <div class="form-group" style="margin:20px;padding:10px; ">
    <label for="num5">Enter Fifth No</label>
    <input type="number" class="form-control" id="num5" placeholder="Enter Fifth no" name = "num5">
  </div>
 
  <div class="container col-12"  style="display: flex; flex-direction:row; justify-content:center; align-items:center;gap:5rem">
     <button type="submit" class="btn btn-primary sub-btn">Submit</button>
    <button type="button" class="btn btn-primary align-self-center res-btn">Perform Calculations</button>   
</div>
</form>
<div class="container col-3" style="display: flex; gap:2rem; flex-direction:column; font-size:20px; margin-top:10px;">
    <div >
    <span>average :</span>
    <span class="avg"></span>
    </div>
    <div>
    <span>Minimum of numbers :</span>
    <span class="min"></span>
    </div>
    <div>
    <span>maximum of numbers :</span>
    <span class="max"></span>
    </div>
    
</div>

</div>

</div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
    <script>
        const arr=window.location.href.split("/")
    const form=document.querySelector(".form2")
    const btn=document.querySelector(".sub-btn")
    const res=document.querySelector(".res-btn")
    res.addEventListener("click",handleClick);
    function handleClick(e){
         const id=parseInt(arr[arr.length-1][0]+arr[arr.length-1][1]);
        fetch(`/login/view-user/calc-res/${id}`)
     .then((res) => res.json())
     .then((res)=>{
         console.log(res)
         document.querySelector(".avg").textContent=res.avg
         document.querySelector(".max").textContent=res.max
         document.querySelector(".min").textContent=res.min
     })
     .catch(err=>console.log(err))
    }
    form.addEventListener("submit",handleSubmit)
    function handleSubmit(e){
        e.preventDefault();
        console.log("Submitting");
        const num1=parseInt(document.querySelector("[name=num1]").value)
        const num2=parseInt(document.querySelector("[name=num2]").value)
        const num3=parseInt(document.querySelector("[name=num3]").value)
        const num4=parseInt(document.querySelector("[name=num4]").value)
        const num5=parseInt(document.querySelector("[name=num5]").value)
     const id=parseInt(arr[arr.length-1][0]+arr[arr.length-1][1]);
      const data={id,
       num1,
       num2,
       num3,
       num4,
       num5,
        }
     console.log("id = ",id);
     console.log("data == ", data);
     fetch(`/login/view-user/add-no/${id}`,{method:"POST",headers: {"Content-type":"application/json"},body:JSON.stringify(data)})
     .then((res) => res.json())
     .then((res)=>console.log(res))
     .catch(err=>console.log(err))
    } 
    
    </script> 
</body>

</html>




